
<!DOCTYPE html>
<html lang="zh-CN">
<head>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta HTTP-EQUIV="pragma" CONTENT="no-cache"> 
<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate"> 
<meta HTTP-EQUIV="expires" CONTENT="0"> 
<title>鼹鼠、土拨鼠和猫头鹰 | TomBen</title>	

<link rel="stylesheet" href="https://TomBener.github.io//styles/main.css">
<link href="https://TomBener.github.io//media/scripts/dark.css" rel="alternate stylesheet" type="text/css" title="dark">
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<script type='text/javascript' src='https://TomBener.github.io//media/scripts/script.js'></script>
<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet" />
  <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
  <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>wow=new WOW({boxClass:'wow',animateClass:'animated',offset:0,mobile:true,live:true});wow.init();</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-139205906-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-139205906-1');
</script>

<script type="text/javascript">
(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){

        if(new Date().getHours() > 19  || new Date().getHours() <  7 ){

        document.querySelector('link[title="dark"]').disabled = true;
        document.querySelector('link[title="dark"]').disabled = false;
        document.cookie = "night=1;path=/"
        console.log('夜间模式开启');
        }else{
        document.cookie = "night=0;path=/"
        console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
        document.querySelector('link[title="dark"]').disabled = true;
        console.log('夜间模式关闭');
        }else if(night == '1'){
        document.querySelector('link[title="dark"]').disabled = true;
        document.querySelector('link[title="dark"]').disabled = false;
        console.log('夜间模式开启');

        }
    }
})();
</script>


 	
</head>
<body class="post-template-default single single-post postid-70 single-format-standard">
    <div id="wrapper">
        
			
		<header id="header" class="site-header" 
		
		style="background-image:url(https://i.loli.net/2019/07/22/5d35b8bd8563415277.png)"
		
		>
			<div class="site-branding">
									<h1 class="site-title"><a href="https://TomBener.github.io/" rel="home">TomBen</a></h1>
										
					<h2 class="site-description">Victory won’t come to us unless we go to it.</h2>
										
							</div>
			<nav id="nav-wrapper">
				<div class="container">
					<div class="nav-toggle">
						<div class="bars">
							<div class="bar"></div>
							<div class="bar"></div>
							<div class="bar"></div>
						</div>
					</div><!-- /nav-toggle -->
					<div class="clear"></div>
					<ul id="" class="dove">
		 
     			
<li>
	 
	<a  href="/"> 首页</a></li>
	
    
     			
<li>
	 
	<a  href="/archives"> 归档</a></li>
	
    
     			
<li>
	 
	<a  href="/tags"> 标签</a></li>
	
    
     			
<li>
	 
	<a  href="/post/about"> 关于</a></li>
	
    

</ul>
</li>		
		
</ul>				</div>
			</nav><!-- #navigation -->
						<div class="jingge">

			
<a  href="https://tomben.me/atom.xml" target="_blank" ><i class="iconfont icon-rss"></i></a>
 
    
			
<a  href="https://twitter.com/TomBener" target="_blank" ><i class="iconfont icon-twitter"></i></a>
 
    
			
<a  href="https://github.com/TomBener" target="_blank" ><i class="iconfont icon-github"></i></a>
 
    

    

    

    

    

    

    

    

    

    
        </header><!-- #masthead -->

		<div id="content" class="container">
			<div class="row">
	<div class="col-md-8 site-main">
				
<article id="post-70" class="post-70 post type-post status-publish format-standard hentry category-5 tag-10 tag-9 tag-11">

	
	                      
		<div class="entry-content">
			<h1 class="wow swing entry-title">鼹鼠、土拨鼠和猫头鹰</h1>
<div class="entry-meta">
<div class="wow bounce">
	<i class="iconfont icon-rili"> <time class="lately-a" datetime="2019-07-22 14:52:36" itemprop="datePublished" pubdate="">2019-07-22</time></i>
	          </div>
			
</span>
													 
		</div>
                  
			<div class="wow slideInLeft entry-summary song">
				<p><p>用 TikZlings 画萌萌哒的页码。</p>
<!-- more -->
<hr>
<h2 id="初识-tikzlings">初识 TikZlings</h2>
<p>上个月底读 <a href="https://github.com/samcarter/tikzlings">TikZlings</a> 说明文档的时候，我觉得 <a href="https://mirrors.tuna.tsinghua.edu.cn/CTAN/graphics/pgf/contrib/tikzlings/tikzlings-doc.pdf">TikZlings 手册</a> 中的页码很有趣，是一些萌萌哒的动物举着标有页码的牌子，于是就想看看生成这种页码风格的源码是什么样子的。</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2019/07/22/5d34fdb6675ec84547.png" alt=""></figure>
<p>哦 😯，还忘记了介绍 TikZlings 是什么。<code>tikzlings-doc.pdf</code> 开篇是这样介绍的：</p>
<blockquote>
<p>The TikZlings are a collection of little animals (and beings) drawn in TikZ. It is the next evolutionary phase of the tikzmarmots package extending it with further animals (and beings) and also adding the ability to natively use many of the accessories known from the TikZducks package.</p>
</blockquote>
<p>简单来说，TikZlings 就是基于 TikZ 绘制了一些动物的形象，包括土拨鼠、鼹鼠、企鹅、河马、雪人等等，让使用者可以很方便地调用。实际上它和我之前用 TikZ 绘制的 <a href="https://github.com/TomBener/SCU-LOGO">SCU-LOGO</a>（值得一提的是，中科大的向禹将国内部分高校校徽用 TikZ 绘制并写成了 <a href="https://yuxtech.github.io/2019/06/16/cnlogo/">cnlogo 宏包</a>）是一样的，不同的是，作者将其封装成了一个宏包，提供了一些命令选项，变得更有趣和更实用。</p>
<p>尽管 TikZlings 的说明文档已经很详细了，但通篇没有提到这种页码的设置方式，无奈我只好到 <a href="https://ctan.org/pkg/tikzlings">CTAN</a> 上去下载整个代码包。经过我在 <code>tikzlings-doc.tex</code> 中 1000 多行代码的探索，终于找到了文档中设置页码的代码：</p>
<pre><code>% preamble
\usepackage{tikzlings}
.
.
.
\cfoot{\thepage} 
\pagestyle{scrheadings}
.
.
.
\cfoot{%
	\begin{tikzpicture}[scale=0.5] 
	    \tikzling[signpost={\thepage}]
	\end{tikzpicture}
}
</code></pre>
<p>经过简单移植，做成一个页码设置模板：</p>
<pre><code>\documentclass[12pt, a4paper]{article}

\usepackage[scheme=plain]{ctex}
\linespread{1.3}
\usepackage[margin=2.5cm]{geometry}
\usepackage{microtype, setspace}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi]{SimSun}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage{lipsum, zhlipsum}

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand\headrulewidth{0pt}

\usepackage{tikzlings}
\cfoot{
  \begin{tikzpicture}[scale=0.5] 
      \tikzling[signpost={\thepage}]
  \end{tikzpicture}
}
\setlength{\footskip}{1.5cm}

\begin{document}
\zhlipsum[1-10]

\lipsum[1-100]
\end{document}
</code></pre>
<p>生成的页码效果截图如下，也可 <a href="https://tomben.me/files/pdf/page_number/page_number.pdf">点击下载 PDF</a> 查看完整版。</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2019/07/14/5d2aebcb5c19a39412.png" alt=""></figure>
<h2 id="惊现-bug">惊现 Bug</h2>
<p>过了差不多半个月，我再一次打开原来写的 <code>page_number.tex</code> 文件编译了一下，结果发现和半个月前不一样了，页码数字的位置发生了偏移，没有在标牌的正中间。</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2019/07/14/5d2aea74aa07085808.png" alt=""></figure>
<p>一开始我以为是 TeX 发行版的问题，甚至都想卸了 MacTeX 2019 后重新安装，但是想想代价太大了，不如先上网搜索一下吧，然而并没有在网上搜索到相关解决方法，于是干脆联系作者 samcarter 吧。</p>
<ul>
<li>到 <code>tikzlings-doc.pdf</code> 中找作者的联系方式，发现他并没有留下邮箱。</li>
<li>到 <a href="https://tex.stackexchange.com/users/36296/user36296">tex.stackexchange</a> 上求助作者，发现他已经离开了，留言说有问题上法国 TeX 论坛上找他，可是我不懂法语啊。。。</li>
<li>到作者 <a href="https://github.com/samcarter">GitHub 主页</a> 上找联系方式，也没有。。。</li>
</ul>
<p>真是应了 tex.stackexchange 上这句话：</p>
<blockquote>
<p>Apparently, this user prefers to keep an air of mystery about them.</p>
</blockquote>
<p>没有办法，我只好在 <a href="https://github.com/samcarter/tikzlings/">TikZlings 仓库</a> 下提了一个 <a href="https://github.com/samcarter/tikzlings/issues/9">issue: Wrong place of page number</a>。庆幸的是，作者在一天后回复了，指出这个 bug 是由于 <a href="https://github.com/pgf-tikz/pgf">pgf-tikz 仓库</a> 的 <a href="https://github.com/pgf-tikz/pgf/commit/d0f66607f379dadd6d5a435fa86567fe36cfb842">一次错误提交</a> 导致的，并且把我提交的 issue 引用到了 pgf-tikz 的 <a href="https://github.com/pgf-tikz/pgf/issues/708">issue#708</a>。很快，pgf-tikz 宏包的维护者 <a href="https://github.com/hmenke">hmenke</a> 回复已修复 bug，重新提交到了 CTAN，将在提交后约 24 小时内通过更新宏包得到解决。</p>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2019/07/22/5d3514f298bd815601.png" alt=""></figure>
<p>由于国内镜像网站存在延迟，前天下午，我终于通过 <a href="https://mirrors.tuna.tsinghua.edu.cn">清华大学开源软件镜像站</a> 更新了 <a href="https://ctan.org/pkg/pgf">pgf-tikz 宏包</a>，又可以愉快地画图了✌️</p>
<h2 id="玩转-tikzlings">玩转 TikZlings</h2>
<h3 id="中文数字页码">中文数字页码</h3>
<p>加上 <a href="https://ctan.org/pkg/zhnumber">zhnumber 宏包</a> 中的命令 <code>\pagenumbering{zhnum}</code>，可实现中文格式输出页码数字。</p>
<pre><code>\documentclass[12pt, a4paper]{article}

\usepackage[scheme=plain]{ctex}
\pagenumbering{zhnum}

\linespread{1.3}
\usepackage[margin=2.5cm]{geometry}
\usepackage{microtype, setspace}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi]{SimSun}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage{lipsum, zhlipsum}

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand\headrulewidth{0pt}

\usepackage{tikzlings}
\cfoot{\small
  \begin{tikzpicture}[scale=0.6]
      \tikzling[signpost={\thepage}]
  \end{tikzpicture}
}
\setlength{\footskip}{1.5cm}

\begin{document}
\zhlipsum[1-10]

\lipsum[1-88]
\end{document}
</code></pre>
<p>输出效果如下，<a href="https://tomben.me/files/pdf/page_number/page_number_chinese.pdf">下载 PDF</a> 查看完整版。</p>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2019/07/22/5d3531a511ec213737.png" alt=""></figure>
<h3 id="可爱的鼹鼠">可爱的鼹鼠</h3>
<p>为鼹鼠、土拨鼠和猫头鹰加一些修饰：</p>
<pre><code>\documentclass[12pt, a4paper]{article}

\usepackage[scheme=plain]{ctex}

\linespread{1.3}
\usepackage[margin=2.5cm]{geometry}
\usepackage{microtype, setspace}
\setCJKmainfont[BoldFont=SimHei, ItalicFont=KaiTi]{SimSun}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage{lipsum, zhlipsum}

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand\headrulewidth{0pt}

\usepackage{tikzlings}
\cfoot{
  \begin{tikzpicture}
      \moles[signpost={\thepage},
      speech={cute},
      rotate=-5,
      scale=0.6,
      graduate=blue!40!black,
      tassel=red!60!blue,
      bubblecolour=gray!30!white,
      umbrellaclosed=cyan,
      icecream=brown!60!gray, 
      flavoura=brown!50!black,
      flavourb=white!70!brown,
      flavourc=red!50!white,
      ]
  \end{tikzpicture}
}

\lfoot{
 \begin{tikzpicture}
      \owl[scale=0.6,
      rotate=-10,
      cricket=purple!60!blue,
      ]
 \end{tikzpicture}
}

\rfoot{
 \begin{tikzpicture}
      \marmot[scale=0.6,
      rotate=10,
      football=white,
      ]
 \end{tikzpicture}
}

\setlength{\footskip}{1.5cm}

\begin{document}
\zhlipsum[1-10]

\lipsum[1-88]
\end{document}
</code></pre>
<p><a href="https://tomben.me/files/pdf/page_number/page_number_moles.pdf">下载 PDF</a> 查看完整版。</p>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2019/07/22/5d352a9c71e8697714.png" alt=""></figure>
<p>可爱的鼹鼠马上就要毕业了，戴上了毕业的帽子准备去参加毕业典礼，嘴里还不忘念叨自己很 cute，可他自己却看不见牌子上写着的「2」。鼹鼠知道毕业季正逢雨季，特意带了把雨伞拿在左手，加上标牌的重量，把它的身子压得向左微倾。也许是刚刚吃下的冰淇淋在肚子里还没有消化，鼹鼠闭着眼睛，还在回味着美味。喜欢玩板球的猫头鹰学妹和爱踢足球的土拨鼠学弟，一左一右，前来庆祝鼹鼠学长即将毕业，他们三个高兴地向前走，一同奔向充满希望的未来。</p>
<figure data-type="image" tabindex="7"><img src="https://i.loli.net/2019/07/22/5d3554210fd6b68386.png" alt=""></figure>
<p>下载上图 <a href="https://tomben.me/files/pdf/page_number/moles.pdf">鼹鼠 PDF 版本</a>。</p>
</p>
							</div>
	<div class="wow bounceInDown vt-post-tags">
 
				<a href="https://TomBener.github.io//tag/Q8-wJkCCd" rel="tag">Skill</a>	
				 
					</div>						
<nav class="navigation3 post-navigation3" role="navigation">
		
		<div class="nav-links3">
      
		<div class="wow bounceInLeft nav-previous3"><a href="https://TomBener.github.io//post/hu-you-ren-zhe-jian-shi-ren-lei-he-hu-lian-wang-shui-geng-li-hai" rel="prev"> 忽悠人这件事，人类和互联网谁更厉害？</a></div>
		 
		 
		<div class="wow bounceInRight nav-next3"><a href="https://TomBener.github.io//post/xiao-yu-dong-zhi-xing" rel="next"> 小鱼洞之行</a></div>
		
		</div>
	</nav>
	<div class="wow rollIn author-info" style="visibility: visible; animation-name: rollIn;">
	<div class="author-avatar pull-left"><img src="https://TomBener.github.io//images/avatar.png" ></div>
 
	<div class="author-description"><div class="author-title"><div class="author-link" rel="author">TomBen</div></div>


		</div>
		
 
		
</article>

<div id="marlin_lite_about_widget-2" class="wow bounceInUp widget marlin_lite_about_widget" data-wow-delay="0.1s">
		
        
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://TomBener.github.io//media/scripts/Valine.min.js'></script>

<div class="comment"></div>
<script>
        new Valine({
            // AV 对象来自上面引入av-min.js(老司机们不要开车➳♡゛扎心了老铁)
            av: AV, 
            el: '.comment',
            lang: 'zh-cn',
            
            admin_email:'mr.ren.tao123@gmail.com',
            
            
            emoticon_url: '/Users/rentao/Documents/GitHub/TomBen/output/alu',
             
      emoticon_list: ["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],
     
      app_id: '0tfLXsRar9VpYKqAg1Ky5uRf-MdYXbMMI',
      	
      
      app_key: 'VtoLJU4T2uhwT1a0KFVtb1IU',
         	
          
      placeholder: '欢迎评论'
       
        });
    </script> 


   
  
 

		</div>

			</div>
			


<div class="tocc col l3 hide-on-med-and-down">
	
        <div class="toc-widget">
			
            <div class="toc-title"></div>
			
            <div id="toc-content">
			
			
			</div>
        </div>
    </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.5.0/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '.entry-summary',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('.entry-summary').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>										 

 
       


			</div>
		</div>

		
		 	<footer id="colophon" class="site-footer">

			<div class="container">
	
				<div class="copyright">Copyright © 2019 <a href="https://tomben.me">TomBen</a> All rights reserved. Thanks for your <a href="https://tomben.me/sponsor-page/" target="_blank">sponsor</a><br>Theme:   <a href="https://github.com/alterfang/gridea-theme-pan" target="_blank" title="Pan"><span>Pan</span></a>. Powered by <a href="https://gridea.dev/" target="_blank" title="Gridea"><span>Gridea</span></a></div>		
			</div><!-- .container -->
		
		</footer><!-- #colophon -->

</div>

<script src="https://cdn.bootcss.com/fitvids/1.2.0/jquery.fitvids.min.js"></script>
<script type='text/javascript' src='https://TomBener.github.io//media/scripts/marlin-scripts.js'></script>
 <script src="//tokinx.github.io/lately/lately.min.js"></script>
  <script>jQuery(document).ready(function(){$.lately({'target':'.lately-a,.lately-b,.lately-c'})});</script>
  <style type="text/css">a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
}

a.back_to_top span {
    color: #888;
}

a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
}

a.back_to_top:hover span {
    color: #555;
}

@media print, screen and (max-width: 580px) {
    .back_to_top {
        display: none !important;
    }
}



</style><a id="back_to_top" href="#" class="back_to_top"><span><i class="iconfont icon-xiangshang"></i></span>
</a>


<script>$(document).ready((function(_this) {
  return function() {
    var bt;
    bt = $('#back_to_top');
    if ($(document).width() > 480) {
      $(window).scroll(function() {
        var st;
        st = $(window).scrollTop();
        if (st > 30) {
          return bt.css('display', 'block');
        } else {
          return bt.css('display', 'none');
        }
      });
      return bt.click(function() {
        $('body,html').animate({
          scrollTop: 0
        }, 800);
        return false;
      });
    }
  };
})(this));
</script>

		<script data-no-instant>
    (function ($) {
        $.extend({
            adamsOverload: function () {
                $('.navigation:eq(0)').remove();
                $("").attr("rel" , "external");
                $("a[rel='external'],a[rel='external nofollow']").attr("target","_blank");
                $("a.vi").attr("rel" , "");
                $.viewImage({
                    'target'  : 'img',
                    'exclude' : '.vsmile-icons img,.gallery img',
                    'delay'   : 300
                });
                $.lately({
                    'target' : '.commentmetadata a,.infos time,.post-list time'
                });
                prettyPrint();
                
                $('ul.links li a').each(function(){
                    if($(this).parent().find('.bg').length==0){
                        $(this).parent().append('<!---<div class="bg" style="background-image:url(https://c3.glgoo.top/s2/favicons?domain='+$(this).attr("href")+')"></div>--->')
                    }
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>

</body>
</html>
